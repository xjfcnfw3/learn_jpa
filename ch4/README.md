# 4장 엔티티 매핑

JPA는 다양한 매핑 어노테이션을 지원하는데 크게 4가지로 분류가 된다.

- 객체와 테이블 매핑: @Entity, @Table
- 기본 키 매핑: @Id
- 필드와 컬런 매핑: @Column
- 연관관계 매핑: @ManyToOne, @JoinColumn

## 4.1 @Entity

해당 어노테이션이 붙은 클래스는 엔티티라고 불리게 된다.

**속성 정리**

- name
    - JPA에 사용할 엔티티 이름을 지정한다. 다른 패키지에 이름이 같은 엔티티 클래스가 있다면 이름을 충돌하지 않도록 해야 한다.
    - 설정하지 않으면 클래스 이름을 그대로 사용

이때 주의할 점은 다음과 같다.

- 기본 생성자는 필수다.(파라미터가 없는 public 또는 protected 생성자)
- final 클래스, enum, interface, inner 클래스에는 사용할 수 없다.
- 저장할 필드에 final을 사용하면 안 된다.

JPA가 엔티티 객체를 생성할 때 기본 생성자를 사용하므로 반드시 있어야 한다. 자바는 생성자가 하나도 없으면 기본 생성자를 생성하지만 하나라도 있으면 기본 생성자를 만들지 않으므로 주의해야 한다.

## @Table

엔티티와 매핑할 테이블을 지정한다. 생략하면 매핑한 엔티티 이름을 테이블 이름으로 사용한다.

**속성 정리**

- name
    - 매필할 테이블 이름
    - 기본값으로 엔티티 이름을 사용
- catalog
    - catalog 기능이 있는 데이터베이스에서 catalog를 매핑한다.
- schema
    - schema 기능이 있는 데이터베이스에서 schema를 매핑한다.
- uniqueConstraints(DDL)
    - DDL 생성 시에 유니크 제약조건을 만든다. 2개 이상의 복합 유니크 제약조건도 만들 수 있다. 참고로 이 기능은 스키마 자동 생성 기능을 사용해서 DDL을 만들 떄만 사용된다.